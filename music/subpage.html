<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2000년대 음악</title>
    <link rel="stylesheet" href="css/reset.css">
    <link rel="stylesheet" href="css/subp.css">
</head>

<body>
    <header>
        <ul>
            <li><a href="">PLACE</a></li>
            <li><a href="">MEDIA</a></li>
            <li><a href="">MUSIC</a></li>
            <li><a href="">FASHION</a></li>
        </ul>
    </header>
    <main class="viewport">
        <div class="track">
            <section class="sub01">
                <div class="title">
                    <h3>소녀시대, 2NE1, 원더걸스, 빅뱅</h3>
                    <h4>카라, 슈퍼주니어, 2PM, 2AM, 샤이니</h4>
                </div>
                <p>2000년대 가요계는 80~90년대 중심이던 발라드의 전성기가
                    저물고, 아이돌 중심의 댄스 음악이 대세로 떠오른
                    시기입니다. 소녀시대의 ‘Gee’가 대표 히트곡으로 선정되며,
                    원더걸스, 카라, 2NE1, 빅뱅, 2PM 등 아이돌 그룹들이
                    대중문화의 중심에 섰습니다. 
                </p>
                <ul class="info">
                    <li>No.1</li>
                    <li>GEE</li>
                    <li>소녀시대</li>
                    <li>2000's</li>
                </ul>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/U7mPqycQ0tQ?si=jXgwhnbG2mKLv_fJ"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                </iframe>
                <div class="btn">
                    <button class="up"></button>
                    <button class="down"></button>
                </div>
            </section>
            <section class="sub02">
                <div class="title">
                    <h3>소녀시대, 2NE1, 원더걸스, 빅뱅</h3>
                    <h4>카라, 슈퍼주니어, 2PM, 2AM, 샤이니</h4>
                </div>
                <p>
                    아이돌 전성기 속에서도 백지영, 브라운 아이즈, 김범수
                    같은 실력파 발라드·R&B 가수들이 활약했고, 윤도현과 부활
                    등 록커들도 대중성과 음악성으로 주목받으며 ‘보여주는
                    음악’과 ‘들려주는 음악’의 대비가 두드러진 시기였습니다.
                </p>
                <ul class="info">
                    <li>No.1</li>
                    <li>GEE</li>
                    <li>소녀시대</li>
                    <li>2000's</li>
                </ul>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/X_sIOs-V3PY?si=caEkZAFEj-HghCmu"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                </iframe>
                <div class="btn">
                    <button class="up"></button>
                    <button class="down"></button>
                </div>
            </section>
            <section class="sub03">
                <div class="title">
                    <h3>소녀시대, 2NE1, 원더걸스, 빅뱅</h3>
                    <h4>카라, 슈퍼주니어, 2PM, 2AM, 샤이니</h4>
                </div>
                <p>
                    R&B 부문에선 휘성 , 거미 등이 히트곡을 통해 두각을
                    나타냈고, 록 장르에선 윤도현의 ‘사랑했나봐’,
                    부활의 ‘Never Ending Story’ 등이 록의 저력을
                    보여주었습니다. 이처럼 다양한 장르의 실력파
                    아티스트들이 음악적 다양성과 깊이를 유지하며,
                    주류와 비주류의 균형을 이끌었습니다.
                </p>
                <ul class="info">
                    <li>No.1</li>
                    <li>GEE</li>
                    <li>소녀시대</li>
                    <li>2000's</li>
                </ul>
                <iframe width="560" height="315" src="https://www.youtube.com/embed/7ATP7h-pB2I?si=ib_92osu9-e8AcOn"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                </iframe>
                <div class="btn">
                    <button class="up"></button>
                    <button class="down"></button>
                </div>
            </section>
            <section class="sub04">
                <iframe class="lie" width="560" height="315" src="https://www.youtube.com/embed/NeDeZUqNiVo?si=tPkV4vlligL7CKmp"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                </iframe>
                <iframe class="nobody" width="560" height="315"
                    src="https://www.youtube.com/embed/QZBn1e9pr2Q?si=FBTJ64s3CdwyKQLo" title="YouTube video player"
                    frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                    referrerpolicy="strict-origin-when-cross-origin" allowfullscreen>
                </iframe>
                <p id="txt01">2000년대 중후반은 아이돌의 절대적인 시대였습니다.
                    소녀시대, 원더걸스, 카라, 2NE1 등 걸그룹과 빅뱅,
                    슈퍼주니어, 2PM, 2AM, 샤이니 등의 보이그룹이 차트를
                    장악하고 한류 문화를 이끌었습니다.
                    ‘Nobody’, ‘Tell Me’, ‘거짓말’, ‘쏘리쏘리’ 같은 곡들은
                    대중성과 상징성을 모두 인정받았습니다.
                </p>
                <p id="txt02">
                    음악 트렌드 역시 사랑·이별을 주제로 한 직설적인
                    가사, 랩 삽입, 퍼포먼스 중심의 무대 등으로 변화했으며,
                    전통적 감성과 새로운 감성 간의 세대차가 뚜렷했습니다.
                    이 시기는 아이돌 중심의 대중가요가 산업적 기반을 다지는
                    동시에 음악성과 상업성의 접점을 고민한 시기로 평가됩니다.
                </p>
                <div class="btn">
                    <button class="up"></button>
                    <button class="down"></button>
                </div>
            </section>
        </div>
    </main>

<script>
  const viewport = document.querySelector('.viewport');
  const track = document.querySelector('.track');
  const sections = Array.from(document.querySelectorAll('.track > section'));

  let index = 0;
  let locked = false; // 연속 스크롤 방지
  const DURATION = 700; // 전환 시간(ms)
  const WHEEL_THRESHOLD = 10; // 아주 작은 휠은 무시
  const TOUCH_THRESHOLD = 30; // 스와이프 감지 픽셀
  let viewH = viewport.clientHeight;
    function applyTransform() {
   track.style.transform = `translateY(${-index * viewH}px)`;
 }

  function clamp(n, min, max) { return Math.max(min, Math.min(max, n)); }

  function goTo(i){
    const next = clamp(i, 0, sections.length - 1);
    if (next === index || locked) return;
    locked = true;
    index = next;
    track.style.transition = `transform ${DURATION}ms ease`;
    applyTransform();
    setTimeout(() => { locked = false; track.style.transition = 'none'; }, DURATION + 50);
  }
   window.addEventListener('resize', () => {
   viewH = viewport.clientHeight;
   applyTransform();
 });

  function goPrev(){ goTo(index - 1); }
  function goNext(){ goTo(index + 1); }

  // 버튼(섹션 내부) 클릭
  document.addEventListener('click', (e) => {
    const upBtn = e.target.closest('.btn .up');
    const downBtn = e.target.closest('.btn .down');
    if (!upBtn && !downBtn) return;

    const currentSection = e.target.closest('section');
    const idx = sections.indexOf(currentSection);
    if (idx === -1) return;

    if (upBtn) goTo(idx - 1);
    if (downBtn) goTo(idx + 1);
  });

  // 휠 스크롤 → 한 장씩
  viewport.addEventListener('wheel', (e) => {
    e.preventDefault();
    if (Math.abs(e.deltaY) < WHEEL_THRESHOLD) return;
    if (e.deltaY > 0) goNext();
    else goPrev();
  }, { passive: false });

  // 터치 스와이프
  let touchStartY = 0;
  viewport.addEventListener('touchstart', (e) => {
    if (!e.touches[0]) return;
    touchStartY = e.touches[0].clientY;
  }, { passive: true });

  viewport.addEventListener('touchend', (e) => {
    const touchEndY = e.changedTouches[0]?.clientY ?? touchStartY;
    const diff = touchStartY - touchEndY;
    if (Math.abs(diff) < TOUCH_THRESHOLD) return;
    if (diff > 0) goNext(); else goPrev();
  }, { passive: true });

  // 키보드
  window.addEventListener('keydown', (e) => {
    if (['ArrowDown','PageDown',' '].includes(e.key)) { e.preventDefault(); goNext(); }
    if (['ArrowUp','PageUp'].includes(e.key))        { e.preventDefault(); goPrev(); }
    if (e.key === 'Home') { e.preventDefault(); goTo(0); }
    if (e.key === 'End')  { e.preventDefault(); goTo(sections.length - 1); }
  });

  // 초기에 0번 섹션으로 위치 고정
 track.style.transition = 'none';
 applyTransform();
</script>


</body>

</html>